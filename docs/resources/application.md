---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "juju_application Resource - terraform-provider-juju"
subcategory: ""
description: |-
  A resource that represents a single Juju application deployment from a charm. Deployment of bundles is not supported.
---

# juju_application (Resource)

A resource that represents a single Juju application deployment from a charm. Deployment of bundles is not supported.

## Example Usage

```terraform
resource "juju_application" "this" {
  name = "my-application"

  model = juju_model.development.name

  charm {
    name     = "ubuntu"
    channel  = "edge"
    revision = 24
    series   = "trusty"
  }

  units = 3
	
  placement = "0,1,2"

  storage_directives = {
    files = "101M"
  }
	
  config = {
    external-hostname = "..."
  }
}

resource "juju_application" "placement_and_custom_resource_example" {
  name  = "placement-example"
  model = juju_model.development.name
  charm {
    name     = "hello-kubecon"
    channel  = "edge"
    revision = 14
    series   = "trusty"
  }

  resources = {
    gosherve-image = "gatici/gosherve:1.0"
  }

  units     = 3
  placement = "0,1,2"

  config = {
    external-hostname = "..."
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `model` (String) The name of the model where the application is to be deployed.

### Optional

- `charm` (Block List) The name of the charm to be installed from Charmhub. (see [below for nested schema](#nestedblock--charm))
- `config` (Map of String) Application specific configuration. Must evaluate to a string, integer or boolean.
- `constraints` (String) Constraints imposed on this application.
- `endpoint_bindings` (Attributes Set) Configure endpoint bindings (see [below for nested schema](#nestedatt--endpoint_bindings))
- `expose` (Block List) Makes an application publicly available over the network (see [below for nested schema](#nestedblock--expose))
- `name` (String) A custom name for the application deployment. If empty, uses the charm's name.
- `placement` (String) Specify the target location for the application's units
- `resources` (Map of String) Charm resources. Must evaluate to a string. A resource could be a resource revision number from CharmHub or a custom OCI image resource.

There are a few scenarios that need to be considered:
* Charms could be deployed with specifying the resources (from CharmHub or an OCI image repository). If the resources are not specified, the resources which are associated with the Charm in the CharmHub are used.
  Resource inputs are provided in a string format.
	- Resource revision number from CharmHub (string)
	- OCI image information as a URL (string)
	- A path of json or yaml file which includes OCI image repository information (string)
* Changing resource input from a revision to a custom OCI resource is processed and updated smoothly according to the provided input.
* Resources could be added to the Terraform plan after deployment.
	- If the resources are added to the plan (as a revision number or a custom OCI image resource), specified resources are attached to the application (equivalent to juju attach-resource).
* Charm which includes resources could be updated.
  If the plan does specify resource revisions from CharmHub:
	- if the charm channel is updated, resources get updated to the latest revision associated with the updated channel.
	  If the plan does specify custom OCI image resources:
	- if the charm channel is updated, existing resources are kept. (Resources are not detached)
* Resources could be removed from the Terraform plan.
  If the plan does specify resource revisions from CharmHub or custom OCI images, then resources are removed from the plan:
	- If the charm channel is updated, resources get updated to the latest revision associated with the updated charm channel.
	- If the charm channel is not updated then the resources get updated to the latest revision associated with the existing charm channel.
- `storage` (Attributes Set) Storage used by the application. (see [below for nested schema](#nestedatt--storage))
- `storage_directives` (Map of String) Storage directives (constraints) for the juju application. The map key is the label of the storage defined by the charm, the map value is the storage directive in the form <pool>,<count>,<size>. Changing an existing key/value pair will cause the application to be replaced. Adding a new key/value pair will add storage to the application on upgrade.
- `trust` (Boolean) Set the trust for the application.
- `units` (Number) The number of application units to deploy for the charm.

### Read-Only

- `id` (String) The ID of this resource.
- `principal` (Boolean, Deprecated) Whether this is a Principal application

<a id="nestedblock--charm"></a>
### Nested Schema for `charm`

Required:

- `name` (String) The name of the charm

Optional:

- `base` (String) The operating system on which to deploy. E.g. ubuntu@22.04.
- `channel` (String) The channel to use when deploying a charm. Specified as \<track>/\<risk>/\<branch>.
- `revision` (Number) The revision of the charm to deploy. During the update phase, the charm revision should be update before config update, to avoid issues with config parameters parsing.
- `series` (String, Deprecated) The series on which to deploy.


<a id="nestedatt--endpoint_bindings"></a>
### Nested Schema for `endpoint_bindings`

Required:

- `space` (String) Name of the space to bind the endpoint to.

Optional:

- `endpoint` (String) Name of the endpoint to bind to a space. Keep null (or undefined) to define default binding.


<a id="nestedblock--expose"></a>
### Nested Schema for `expose`

Optional:

- `cidrs` (String) A comma-delimited list of CIDRs that should be able to access the application ports once exposed.
- `endpoints` (String) Expose only the ports that charms have opened for this comma-delimited list of endpoints
- `spaces` (String) A comma-delimited list of spaces that should be able to access the application ports once exposed.


<a id="nestedatt--storage"></a>
### Nested Schema for `storage`

Read-Only:

- `count` (Number) The number of volumes.
- `label` (String) The specific storage option defined in the charm.
- `pool` (String) Name of the storage pool.
- `size` (String) The size of each volume.

## Import

Import is supported using the following syntax:

```shell
# Applications can be imported using the format: `model_name:application_name`, for example:
$ terraform import juju_application.wordpress development:wordpress
```
